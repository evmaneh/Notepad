<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="https://i.ibb.co/nDyqFVD/Dark-Spot-circle-1.png" />
    <html lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Jaysons Notepad</title>
      </head>
      <body>
        <p style="text-align: center"><strong>Jaysons Notepad</strong></p>
        <h3 id="DarkModetext"></h3>
        <button onclick="darkMode()">Dark</button>
        <button onclick="lightMode()">Light</button>
        <script>
          function darkMode() {
            var element = document.body;
            var content = document.getElementById("DarkModetext");
            element.className = "dark-mode";
            content.innerText = "";
          }
          function lightMode() {
            var element = document.body;
            var content = document.getElementById("DarkModetext");
            element.className = "light-mode";
            content.innerText = "";
          }
          window.onload = function() {
  let text = localStorage.getItem('text');
  if (text !== null) {
    document.getElementsByClassName("editor")[0].innerHTML = text;
  }
};

window.onbeforeunload = function() {
  let textToSave = document.getElementsByClassName("editor")[0].innerHTML;
  localStorage.setItem('text', textToSave);
};

        </script>
      </body>
    </html>
  </head>
  <body>
    <div class="editor" spellcheck="false">
      <div contenteditable="true"></div>
    </div>
    <div class="buttons">
      <button onclick="downloadContent(1)">Save</button>
      <button onclick="changeFontSize(2)">Text Size +</button>
      <button onclick="changeFontSize(-2)">Text Size -</button>
    </div>
    <script>
      function changeFontSize(val) {
        let txt = document.getElementsByClassName("editor")[0];
        let style = window.getComputedStyle(txt).getPropertyValue("font-size");
        let currentSize = parseFloat(style);
        txt.style.fontSize = currentSize + val + "px";
      }
      function downloadContent(tmp) {
        let a = document.body.appendChild(document.createElement("a"));
        let today = new Date();
        let date =
          today.getFullYear() +
          "-" +
          (today.getMonth() + 1) +
          "-" +
          today.getDate() +
          "-" +
          today.getHours() +
          ":" +
          today.getMinutes() +
          ":" +
          today.getSeconds();
        a.download = "Download" + date.toString() + ".txt";
        let textToSave = document.getElementsByClassName("editor")[0];
        a.href = "data:text/plain;charset=utf-8," + textToSave.innerText;
        a.click();
      }
    </script>
  </body>
</html>
